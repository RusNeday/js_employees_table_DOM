{"version":3,"sources":["scripts/main.js"],"names":["thead","document","querySelector","table","tbody","arrayTr","querySelectorAll","arrayCell","arrayPeople","directionSort","showNewPersonInTable","insertAdjacentHTML","form","addNewPersonInTable","addEventListener","e","preventDefault","data","FormData","informNewPerson","Object","fromEntries","entries","name","length","age","pushNotification","position","office","divideSalary","salary","push","sortPersonInTable","headerName","target","innerHTML","choiceColumnSort","selectRow","selected","classList","remove","closest","add","i","j","cell","children","lastValue","innerText","input","createElement","value","textContent","firstChild","removeChild","appendChild","focus","onblur","inputKeyEvent","key","createTextNode","people","rows","cells","each","item","nameColumn","sortEmployeesASC","sortEmployeesDESC","showSorted","list","array","field","fieldLower","toLowerCase","sort","a","b","Number","replace","localeCompare","number","count","result","string","String","long","posTop","posRight","title","description","type","block","message","h2","p","style","top","right","zIndex","setAttribute","after","append","setTimeout"],"mappings":"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","file":"main.53ad8559.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-unused-vars */\n'use strict';\n\nconst thead = document.querySelector('thead');\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('tbody');\nconst arrayTr = document.querySelectorAll('tr');\nconst arrayCell = [...arrayTr];\nconst arrayPeople = [];\nlet directionSort = '';\n\nconst showNewPersonInTable = table.insertAdjacentHTML('afterend', `\n<form class = 'new-employee-form'>\n  <label>Name:\n    <input name = \"name\"\n    type = \"text\"\n    data-qa = \"name\"\n    >\n  </label>\n  <label>Position:\n    <input name = \"position\"\n    type=\"text\"\n    data-qa=\"position\"\n    >\n  </label>\n  <label>Office:\n    <select name = \"office\" type=\"text\" data-qa=\"office\" required=\"required\">\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age:\n    <input name = \"age\"\n    type=\"number\"\n    data-qa=\"age\"\n    >\n  </label>\n  <label>Salary:\n    <input name = \"salary\"\n    type=\"number\"\n    data-qa=\"salary\"\n    >\n  </label>\n  <button type = 'submit'>Save to table</button>\n`);\n\nconst form = document.querySelector('form');\n\nconst addNewPersonInTable = form.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const informNewPerson = Object.fromEntries(data.entries());\n\n  if (informNewPerson.name.length < 4\n    || informNewPerson.age < 18\n    || informNewPerson.age > 90) {\n    pushNotification(100, 10,\n      'ERROR',\n      'It is necessary to fill in all fields'\n      + 'of the form to correct!',\n      'error');\n\n    return;\n  } else {\n    pushNotification(100, 10,\n      'SUCCESS',\n      'I congratulate you!',\n      'success');\n  }\n\n  tbody.insertAdjacentHTML('beforeend', `\n   <tr>\n    <td>${informNewPerson.name}</td>\n    <td>${informNewPerson.position}</td>\n    <td>${informNewPerson.office}</td>\n    <td>${informNewPerson.age}</td>\n    <td>${'$' + divideSalary(informNewPerson.salary)}</td>\n</tr>\n`\n  );\n\n  arrayPeople.push(informNewPerson);\n});\n\nconst sortPersonInTable = thead.addEventListener('click', (e) => {\n  const headerName = e.target.innerHTML;\n\n  choiceColumnSort(e, 'Name', headerName);\n  choiceColumnSort(e, 'Position', headerName);\n  choiceColumnSort(e, 'Office', headerName);\n  choiceColumnSort(e, 'Age', headerName);\n  choiceColumnSort(e, 'Salary', headerName);\n}\n);\n\nconst selectRow = tbody.addEventListener('click', (e) => {\n  const selected = document.querySelectorAll('.active');\n\n  for (const elem of selected) {\n    elem.classList.remove('active');\n  }\n\n  e.target.closest('tr').classList.add('active');\n});\n\nfor (let i = 1; i < arrayCell.length - 1; i++) {\n  for (let j = 0; j < arrayCell[i].children.length; j++) {\n    const cell = arrayCell[i].children[j];\n\n    cell.addEventListener('dblclick', (e) => {\n      const lastValue = e.target.innerText;\n      const input = document.createElement('input');\n\n      input.classList.add('cell-input');\n      input.value = cell.textContent;\n\n      while (cell.firstChild) {\n        cell.removeChild(cell.firstChild);\n      }\n\n      cell.appendChild(input);\n      input.focus();\n\n      input.onblur = function() {\n        if (j === 0 && input.value.length < 4) {\n          pushNotification(100, 10,\n            'ERROR',\n            'It is necessary to fill in all fields'\n            + 'of the form to correct!',\n            'error');\n\n          input.value = lastValue;\n        };\n\n        if (j === 3) {\n          if (input.value < 18\n            || input.value > 90\n            || input.value.length > 2) {\n            pushNotification(100, 10,\n              'ERROR',\n              'It is necessary to fill in all fields'\n              + 'of the form to correct!',\n              'error');\n\n            input.value = lastValue;\n          };\n\n          if (j === 4) {\n            if (input.value === '') {\n              pushNotification(100, 10,\n                'ERROR',\n                'It is necessary to fill in all fields'\n                + 'of the form to correct!',\n                'error');\n\n              input.value = lastValue;\n            }\n            input.value = divideSalary(cell.textContent);\n          }\n        }\n      };\n\n      input.addEventListener('keydown', (inputKeyEvent) => {\n        if (inputKeyEvent.key !== 'Enter') {\n          return;\n        }\n        cell.removeChild(input);\n        cell.appendChild(document.createTextNode(input.value || lastValue));\n      });\n    });\n  }\n}\n\nfor (let i = 0; i <= tbody.children.length - 1; i++) {\n  const people = {\n    name: tbody.rows[i].cells[0].innerText,\n    position: tbody.rows[i].cells[1].innerText,\n    office: tbody.rows[i].cells[2].innerText,\n    age: tbody.rows[i].cells[3].innerHTML,\n    salary: tbody.rows[i].cells[4].innerHTML,\n  };\n\n  arrayPeople.push(people);\n};\n\nfunction choiceColumnSort(each, item, nameColumn) {\n  if (each.target.innerText === item) {\n    if (nameColumn !== directionSort) {\n      sortEmployeesASC(arrayPeople, each.target.innerText);\n      directionSort = nameColumn;\n    } else {\n      sortEmployeesDESC(arrayPeople, each.target.innerText);\n      directionSort = '';\n    }\n    showSorted(arrayPeople);\n  }\n}\n\nfunction showSorted(list) {\n  for (let i = 0; i < list.length; i++) {\n    tbody.rows[i].cells[0].innerText = list[i].name;\n    tbody.rows[i].cells[1].innerText = list[i].position;\n    tbody.rows[i].cells[2].innerText = list[i].office;\n    tbody.rows[i].cells[3].innerHTML = list[i].age;\n    tbody.rows[i].cells[4].innerHTML = list[i].salary;\n  }\n};\n\nfunction sortEmployeesASC(array, field) {\n  const fieldLower = field.toLowerCase();\n\n  return array.sort((a, b) => {\n    return Number(a[fieldLower].replace(/[^\\d]/g, ''))\n      ? a[fieldLower].replace(/[^\\d]/g, '')\n      - b[fieldLower].replace(/[^\\d]/g, '')\n      : a[fieldLower].localeCompare(b[fieldLower]);\n  });\n}\n\nfunction sortEmployeesDESC(array, field) {\n  const fieldLower = field.toLowerCase();\n\n  return array.sort((a, b) => {\n    return Number(a[fieldLower].replace(/[^\\d]/g, ''))\n      ? b[fieldLower].replace(/[^\\d]/g, '')\n      - a[fieldLower].replace(/[^\\d]/g, '')\n      : b[fieldLower].localeCompare(a[fieldLower]);\n  });\n}\n\nfunction divideSalary(number) {\n  let count = 0;\n  let result = '';\n  const string = String(number);\n  let long = (string.length % 3) !== 0 ? string.length % 3 : 3;\n\n  for (let i = 0; i < string.length; i++) {\n    if (count === long) {\n      result += ',';\n      count = 0;\n      long = 3;\n    }\n    result += string[i];\n    count++;\n  }\n\n  return result;\n}\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  const block = document.querySelector('body');\n\n  const message = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  message.style.top = `${posTop}px`;\n  message.style.right = `${posRight}px`;\n  message.style.zIndex = `${99999}`;\n\n  message.classList.add('notification', type);\n  message.setAttribute('data-qa', 'notification');\n\n  h2.innerText = title;\n  p.innerText = description;\n\n  block.children[0].after(message);\n  message.append(h2, p);\n\n  setTimeout(() => message.remove(), 2000);\n};\n"]}